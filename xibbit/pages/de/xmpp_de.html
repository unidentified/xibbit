<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="robots" content="noindex, nofollow">
		<title>XMPP Multi User Chat</title>
		<link rel="stylesheet" type="text/css" href="../../css/default.css">
	</head>
	<body>
		<div class="xmpp webclient">
			<p class="xmpp webclient">
				Diese Seite enthält einige Informationen über XMPP (Jabber - die Begriffe 
				"XMPP" und "Jabber" werden in der Regel synonym verwendet). Es wird erklärt
				was XMPP ist bzw. wie man es für die Realisierung von Gruppenchats 
				(Multi User Chat, MUC) verwendet. Weiterhin wird die Administation 
				von XMPP Gruppenchats mittels des auf dieser Seite bereitgestellten Webclienten 
				erläutert. 
			</p>
			<p class="xmpp webclient">
				Diese Seite konzentriert sich vor allem auf die Nutzer, die verstehen wollen, 
				wie XMPP Gruppenchats arbeiten oder ihren eigenen Chatraum administrieren 
				möchten.<br>
				Wenn Sie daran nicht interessiert sind, so ist es ausreichend lediglich die
				<a href="./faq.html" target="_blank">FAQ</a> bzw. die 
				<a href="./commands.html" target="_blank">Befehlsübersicht</a> zu lesen.
				Administratoren sollten dies natürlich auch tun.
			</p>
			<ul class="xmpp webclient">
				<li class="xmpp webclient">
					<h2 class="xmpp webclient">
							<a class="xmpp webclient" href="#whatis_xmpp" target="_self">
								Was ist XMPP? 
							</a>
					</h2>
					<ul class="xmpp webclient">
						<li class="xmpp webclient">
							<a class="xmpp webclient" href="#whatis_xmpp_users" target="_self">
								Benutzer in XMPP
							</a>
						</li>
					</ul>
				</li>
				<li class="xmpp webclient">
					<h2 class="xmpp webclient">
							<a class="xmpp webclient" href="#whatis_xmpp_muc" target="_self">
								Was ist ein XMPP-Gruppenchat (XMPP-MUC, multi user chat)?
							</a>
					</h2>
				</li>
				<li class="xmpp webclient">
					<h2 class="xmpp webclient">
							<a class="xmpp webclient" href="#rooms" target="_self">
								Räume, Zugehörigkeiten und Rollen
							</a>
					</h2>
					<ul class="xmpp webclient">
						<li class="xmpp webclient">
							<a class="xmpp webclient" href="#rooms_roles" target="_self">
								Rollen: Teilnehmer und Moderatoren
							</a>
						</li>
						<li class="xmpp webclient">
							<a class="xmpp webclient" href="#rooms_aff" target="_self">
								Zugehörigkeiten: Eigentümer, Administratoren und Mitglieder
							</a>
						</li>
						<li class="xmpp webclient">
							<a class="xmpp webclient" href="#rooms_conf" target="_self">
								Raumkonfiguration
							</a>
						</li>
					</ul>
				</li>
				<li class="xmpp webclient">
					<h2 class="xmpp webclient">
							<a class="xmpp webclient" href="#admin" target="_self">
								Administrierung eines Chatraumes über diese Webseite
							</a>
					</h2>
					<ul class="xmpp webclient">
						<li class="xmpp webclient">
							<a class="xmpp webclient" href="#admin_conf" target="_self">
								Konfiguration eines Raumes
							</a>
						</li>
						<li class="xmpp webclient">
							<a class="xmpp webclient" href="#admin_aff" target="_self">
								Zugehörigkeiten verwalten
							</a>
						</li>
						<li class="xmpp webclient">
							<a class="xmpp webclient" href="#admin_roles" target="_self">
								Rollen verwalten
							</a>
						</li>
						<li class="xmpp webclient">
							<a class="xmpp webclient" href="#admin_kickban" target="_self">
								Kicken und Bannen
							</a>
						</li>
						<li class="xmpp webclient">
							<a class="xmpp webclient" href="#admin_list" target="_self">
								Verwenden des /list-Befehls
							</a>
						</li>
					</ul>
				</li>
			</ul>
			<h2 class="xmpp webclient" id="whatis_xmpp">Was ist XMPP (Jabber)?</h2>
			<p class="xmpp webclient">
				XMPP ist ein Protokoll für den Versand von Sofortnachrichten 
				(Instant-Messaging Protokoll). Dies bedeutet, dass XMPP-Server 
				im Web vorhanden sind, auf denen Sie sich ein XMPP-Konto registrieren 
				und mittels eines XMPP-Clienten nutzen können. Die Registrierung eines 
				XMPP-Kontos geschieht in der Regel auf der Homepage des XMPP-Servers.
			</p>
			<p class="xmpp webclient">
				XMPP bietet ähnliche Funktionen wie ICQ, Google Talk (basierend auf XMPP), 
				Facebook-Chat oder Skype. Es unterstützt die üblichen Sofortnachrichten 
				sowie Gruppenchats. Es gibt mehrere bekannte XMPP-Server auf denen sich 
				Benutzer kostenlos registrieren können, z.B. jappix.com oder jabber.org. 
				Viele XMPP-Server erlauben die Kommunikation mit Nutzern eines anderen 
				XMPP-Servers d.h. einem Server eines anderen XMPP-Serviceanbieters.
			</p>
			<p class="xmpp webclient">
				Die meisten Instant Messenger (wie z.B. Pidgin oder Miranda) können für 
				das XMPP-Protokoll verwendet werden. Desweiteren gibt es viele andere 
				XMPP-Clienten. Für den Versand von Sofortnachrichten mittels des 
				XMPP-Protokolls, werden Sie wahrscheinlich den Einsatz eines 
				Instant-Messenger am praktischsten finden.
			</p>
			<p class="xmpp webclient">
				Einige XMPP-Server unterstützen Webzugriff, das sogenannte HTTP-Bindung. 
				Dadurch können XMPP-Clients einfach auf Webseiten ausgeführt werden. 
				Die Webseite wird samt dem auf ihr befindlichen Programm, dem XMPP-Clienten, 
				geladen und direkt im Browser ausgeführt. Somit ist weder ein Download 
				noch eine Installation erforderlich, außerdem werden - dank externem 
				XMPP-Server - keine eigenen Webserver-Ressourcen für die Verwendung eines 
				auf Ihrer Website bereitgestellten Chats in Anspruch genommen.
				<br>
				Diese Technologie macht die Integration von Chats (Chat-Räume, Supportchats 
				und sogar vollständige Instant-Messenger) auf Webseiten sehr einfach.
			</p>
			<p class="xmpp webclient">
				Funktionalitäten wie der Versand von Sofortnachrichten (Instant Messaging),
				Gruppenchat und Webzugriff sind es, die zusammengefasst das sehr flexible 
				XMPP-Protokoll definieren, das - wenn Sie einen Server gefunden haben, der 
				Ihren Bedürfnissen entspricht - nahezu überall eingesetzt werden kann.
			</p>
			<h3 class="xmpp webclient" id="whatis_xmpp_users">Benutzer in XMPP</h3>
			<p class="xmpp webclient">
					Ein Benutzer wird durch eine "Jabber-ID" (meist mit "JID" oder "Jid" 
					abgekürzt) identifiziert. Diese ID hat die Form user@server, d.h. die JID
					"user1@jappix.com" gehört zu dem Benutzer mit dem Namen "user1" der den 
					Server "jappix.com" verwendet.
			</p>
			<p class="xmpp webclient">
					In der Regel wird die JID zur Identifizierung eines Benutzers in XMPP genutzt. 
					Ein Benutzer meldet sich dabei mit seiner JID und seinem Kennwort an, wobei 
					seine Kontakte durch deren JIDs angesprochen werden. Eine JID in XMPP ist 
					vergleichbar mit einer eMail-Adresse für Mailservices.
			</p>
			<h2 class="xmpp webclient" id="whatis_xmpp_muc">Wie funktionieren Gruppenchats über XMPP?</h2>
			<p class="xmpp webclient">
					XMPP unterstützt auch Gruppenchats (multi-user-chat, MUC) mit einer großen Anzahl von Funktionen. 
					Unterstützt ein Server Gruppenchats, können auf diesem Räume registriert und verwendet
					werden.<br>
					Dabei wird ein MUC-Raum einfach erstellt, indem ein registrierter User einen noch nicht
					existierenden Raum betritt. Dieser wird automatisch vom Server erstellt. Der User, der den
					noch nicht registrierten Raum als erstes betreten hat, ist automatisch Raumeigentümer 
					mit administrativen Rechten. 
					Sobald alle Benutzer den Raum verlassen haben, 
					wird dieser allerdings automatisch wieder gelöscht.
			</p>
			<p class="xmpp webclient">
					Um einen Gruppenchatraum (MUC) so einzurichten, dass er auch dann weiterhin besteht
					wenn er leer ist, d.h. alle Benutzer ihn verlassen haben, muss der Raum  
					<strong class="xmpp webclient">registriert</strong> werden. Um einen Raum zu 
					registrieren muss dieser konfiguriert werden. Dazu wird bei der Konfiguration der
					Raum als <strong class="xmpp webclient">persistent</strong> (beständig) eingestellt.
					<br>
					Nachdem Sie den Raum als persistent eingerichtet haben, bleibt der Raum 
					dauerhaft auf dem XMPP-Server bestehen und Sie sind fortan dessen Besitzer.
			</p>
			<p class="xmpp webclient">
				Besitzer (owner) von persistenten sowie nicht persistent Räumen können andere Benutzer 
				zu Besitzern (owner), Administratoren (admin), Moderatoren (moderators) oder auch 
				Mitgliedern (members) ernennen. <br>
				(Mitglieder sind normale Nutzer, die permanenten Mitgliedsstatus in einem Raum haben -
				damit sind sie nicht immer anwesend, aber quasi im Raum "registriert").
				<br>
				Passwortschutz für Räume wird ebenso unterstützt wie Räume, die nur von Mitgliedern
				(member) betreten werden können (members only). Für letzteres müssen Admins zunächst 
				Nutzern basierend auf deren JID Mitgliedsstatus geben.
			</p>
			<p class="xmpp webclient">
				Üblicherweise konfiguriert der Raumeigentümer zunächst den Raum, und definiert später
				die Zugehörigkeiten der Nutzer (z.B. andere Eigentümer, Admins und Mitglieder).
			</p>
			<h2 class="xmpp webclient" id="rooms">Rooms, affiliations and roles</h2>
			<p class="xmpp webclient">
				In XMPP, a <strong class="xmpp webclient">room has a JID as well</strong>. 
				It is in the form of room@mucserver, for
				example room1@muc.jappix.com, if room1 is the roomname and muc.jappix.com is the
				address of jappix' MUC service.
				<br>
				This JID is valid as long as the room exists. Rooms which do not exists
				are created once a (usually registered) user tries to join the. The first user
				who joins is owner if the room is not registered (not persistent). This first
				user can register the room (make it persistent), of course, but doesn't have
				to. 
			</p>
			<p class="xmpp webclient">
				While in the room, occupants of a MUC room have a 
				<strong class="xmpp webclient">temporary JID which is based
				on their nickname</strong> and the JID of the room. Such a JID is in the form
				of room@mucserver/nick, i.e. for example room1@muc.jappix.com/myusername.
				<br>
				Dependent on the room configuration, but in most cases, only moderators can see
				the real JID of a user (i.e. user@server). 
			</p>
			<h3 class="xmpp webclient" id="rooms_roles">Roles: Participants and moderators</h3>
			<p class="xmpp webclient">
				(Current) occupants of a room have a <strong class="xmpp webclient">role</strong>. 
				<br>
				A user who is just a normal user usually has
				the role of a <strong class="xmpp webclient">participant</strong>. 
				A user with moderator rights has to role of a <strong class="xmpp webclient">moderator</strong>. 
				A user who is not in the room has the role <strong class="xmpp webclient">none</strong> - 
				moderators can kick a user by setting their role to "none".
				<br>
				Roles are <strong class="xmpp webclient">not persistent</strong>. 
				They exist as long as a user is in chat. If an owner sets a users role to
				moderator, this user is a temporary moderator - once they leave the room, the 
				moderator rights are lost.
			</p>
			<h3 class="xmpp webclient" id="rooms_aff">Affiliations: Owners, admins, members and outcasts</h3>
			<p class="xmpp webclient">
				The <strong class="xmpp webclient">affiliation</strong> of a user to a room
				is <strong class="xmpp webclient">persistent</strong> for as long as the room 
				persists. 
				<br>
				Users can be <strong class="xmpp webclient">owner</strong>, 
				<strong class="xmpp webclient">admin</strong>, <strong class="xmpp webclient">member</strong>,
				<strong class="xmpp webclient">outcast</strong> (banned) or have no affiliation, 
				i.e. <strong class="xmpp webclient">none</strong> (normal users). 
				<br>
				Owners can set admins and owners. Admins and owners can ban users (set their
				affiliation to outcast), set users as members or their role to moderator. 
				MUC rooms can have multiple owners.
			</p>
			<p class="xmpp webclient">
				Owners and admins are automatically assigned the role of a moderator on joining the
				chat. Outcast are banned - they cannot join the room unless someone sets their
				affiliation to something else.
			</p>
			<h3 class="xmpp webclient" id="rooms_conf">Room configuration</h3>
			<p class="xmpp webclient">
				Owners can configure the room. The server sends a configuration form
				to a user, which most clients present graphically, and which is then filled by the
				owner. It usually consists of some text fields, checkboxes and dropdowns.
			</p>
			<p class="xmpp webclient">
				To register a MUC room, a (registered) user must join a not yet existent 
				room as the currently first user. This results in the room being automatically 
				created by the server, and the user being owner. If the room now is not 
				configured and the setting for making the room 
				<strong class="xmpp webclient">persistent</strong> is not set, the room will be
				automatically destroyed again once all occupants have left. So to register a 
				room, the owner needs to configure the room and set it as persistent.
			</p>
			<p class="xmpp webclient">
				Most servers have sensible defaults, so don't change anything you don't need or
				understand. You only need to make settings you need, for example set chat history
				to none (if there's a setting for this) or set a maximum number of 
				occupants.
				<br>
				When it comes to privacy related settings, think whether your chat needs to be
				publically listed (not sensible if you don't want visitors who just looked at the
				servers room list and joined somewhere), and whether 
				the participant list needs to be public (this often is the
				default, and not such a good idea about the same as often). Chat history (a user
				who joins for example sees the last 20 messages, or the messages from  the last
				hour or such in chat) is not needed most times. 
			</p>
			<h4 class="xmpp webclient">Restricting access</h4>
			<p class="xmpp webclient">
				By default, everyone on a server (and sometimes from 
				other XMPP servers as well) is allowed to join a MUC room, as long as they are not banned.
				However, there are ways to restrict joining to certain users: 
				<strong class="xmpp webclient">members only rooms</strong> and 
				<strong class="xmpp webclient">password protected rooms</strong>.
			</p>
			<p class="xmpp webclient">
				<strong class="xmpp webclient">Members only rooms</strong> require owners
				and admins (these have member status anyway) to know users real JID's and
				set their affiliation to "member" before these users are able to join. 
				Setting a room as members only in configuration makes sense for small rooms
				where manually setting users as members is sensible and possible.
			</p>
			<p class="xmpp webclient">
				<strong class="xmpp webclient">Password protected rooms</strong> require a 
				password on joining them. This is sensible for rooms where all users can
				share a password. 
			</p>
			<h2 class="xmpp webclient" id="admin">Administrating a chatroom using this client</h2>
			<p class="xmpp webclient">
				This website works as a XMPP clients for groupchats. It supports most relevant
				administrative options as well. 
				<br>
				To create a room, just join a room that doesn't exist yet - as described above. 
				Then you can proceed to configure it.
			</p>
			<h3 class="xmpp webclient" id="admin_conf">Configuring the room</h3>
			<p class="xmpp webclient">
				To configure the room, just type <code class="xmpp webclient">/config</code> - 
				this command leads to nothing if you're not owner, and, if you are owner, opens
				a configuration form. This is delivered by the server and only rendered on this
				web page so you can use it comfortably. 
				<br>
				Make the room persistent to register it, and make other settings as they
				are sensible.
			</p>
			<h3 class="xmpp webclient" id="admin_aff">Setting affiliations</h3>
			<p class="xmpp webclient">
				Affilitions are set by owners using the <code class="xmpp webclient">/set</code>
				command. 
				<br>
				The syntax is:
			</p>
			<p class="xmpp webclient">
				<code class="xmpp webclient">/set affiliation {owner | admin | member | none | outcast} user</code>
			</p>
			<p class="xmpp webclient">
				The affiliation to set can either be owner, admin, member, none or outcast. "user"
				is a placeholder for either a real JID or - if the user is currently present in the
				room - a nickname.
			</p>
			<p class="xmpp webclient">
				Please note: If you revoke someones administrator status by setting their affiliation to
				none or member, you should set their role to participant as well if they are in the
				room, as their moderator role otherwise stays as long as they leave the room - they 
				couldn't any longer set affiliations, but still kick users.
			</p>
			<h3 class="xmpp webclient" id="admin_roles">Setting roles</h3>
			<p class="xmpp webclient">
				Roles - moderator, participant or none (kicked) - can be set using the
				<code class="xmpp webclient">/set</code> command as well:
			</p>
			<p class="xmpp webclient">
				<code class="xmpp webclient">/set role {moderator | participant | none} user</code>
			</p>
			<p class="xmpp webclient">
				As an admin or owner, you can set a users role to moderator to give them 
				temporary moderator rights, or take the moderator rights away again by setting 
				their role to participant. Setting a users role to none kicks them.
			</p>
			<h3 class="xmpp webclient" id="admin_kickban">Kick and ban</h3>
			<p class="xmpp webclient">
				A kick is performed by either 
				<code class="xmpp webclient">/set role none user</code> (where you 
				fill in the users nickname for "user") or by the shorthand command
				<code class="xmpp webclient">/kick user</code>.
				<br>
				A kick can be performed by temporary moderators, admins and owners. 
			</p>
			<p class="xmpp webclient">
				A ban is performed by 
				<code class="xmpp webclient">/set affiliation outcast user</code> or
				the shorthand command <code class="xmpp webclient">/ban user</code>, 
				where "user" can be the nickname of a present user, or the real JID of
				someone not present. <br>
				If your room is not members only, you can revoke a ban via
				<code class="xmpp webclient">/set affiliation none userjid</code> 
				or <code class="xmpp webclient">/unban userjid</code>, where
				"userjid" is the users's real JID. For members only rooms, you should
				use <code class="xmpp webclient">/set affiliation member userjid</code>.
				"userjid" in this case is the user's real JID. 
			</p>
			<h3 class="xmpp webclient" id="admin_list">Using the /list command</h3>
			<p class="xmpp webclient">
				The <code class="xmpp webclient">/list</code> command allows owners
				and admins to list users of different affiliation and role in a room. 
			</p>
			<p class="xmpp webclient">
				<code class="xmpp webclient">/list {owner | admin | member | none | outcast | moderator | participant}</code>
			</p>
			<p class="xmpp webclient">
				This command will list the real JID's as well, so that it is 
				easy to for example get a banlist and unban a certain user by their
				real JID (calling the banlist would work via 
				<code class="xmpp webclient">/list outcast</code>).
			</p>
		</div>
	</body>
</html>
